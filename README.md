# Kazakhstan Youth News Aggregator

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å —Å–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π —Å –∫–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –¥–ª—è “ö–∞—Ä–∞“ì–∞–Ω–¥—ã –æ–±–ª—ã—Å—ã.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç –°–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π —Å 18 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üè∑Ô∏è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º (–∫–∞–∑–∞—Ö—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π)
- üìÇ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
- üåê –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (“õ–∞–∑–∞“õ—à–∞/—Ä—É—Å—Å–∫–∏–π)
- üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç CRM

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π

| –ò—Å—Ç–æ—á–Ω–∏–∫ | URL | –Ø–∑—ã–∫ |
|----------|-----|------|
| Stan.kz | stan.kz | üá∞üáø |
| Baq.kz | baq.kz | üá∞üáø |
| InformBuro | informburo.kz | üá∑üá∫ |
| QazSport TV | qazsporttv.kz | üá∞üáø |
| Orda.kz | orda.kz | üá∑üá∫ |
| Sputnik KZ | ru.sputnik.kz | üá∑üá∫ |
| 24.kz | 24.kz | üá∞üáø |
| Zakon.kz | kaz.zakon.kz | üá∞üáø |
| –ò –¥—Ä—É–≥–∏–µ... | | |

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
cd news_aggregator

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–∞–∑–æ–≤—ã–π —Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π

```bash
# –°–æ–±—Ä–∞—Ç—å —Å–æ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
python aggregator.py fetch

# –°–æ–±—Ä–∞—Ç—å —Å –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
python aggregator.py fetch-source "Stan.kz"
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å—è–º–∏

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—å–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
python aggregator.py pending

# –û–¥–æ–±—Ä–∏—Ç—å —Å—Ç–∞—Ç—å—é
python aggregator.py approve 123

# –û—Ç–∫–ª–æ–Ω–∏—Ç—å —Å—Ç–∞—Ç—å—é
python aggregator.py reject 123

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
python aggregator.py stats
```

### –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è CRM

```bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
python aggregator.py export-crm
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç)
python scheduler.py

# –£–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–Ω—É—Ç–∞—Ö
python scheduler.py 60  # –∫–∞–∂–¥—ã–π —á–∞—Å
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–æ–¥–µ–ª—å –Ω–æ–≤–æ—Å—Ç–∏ (news.json)

```json
{
  "articles": [
    {
      "id": 1,
      "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
      "description": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
      "content_text": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏",
      "title_kz": "“ö–∞–∑–∞“õ—à–∞ —Ç–∞“õ—ã—Ä—ã–ø",
      "description_kz": "“ö–∞–∑–∞“õ—à–∞ —Å–∏–ø–∞—Ç—Ç–∞–º–∞",
      "content_text_kz": "“ö–∞–∑–∞“õ—à–∞ –º”ô—Ç—ñ–Ω",
      "title_ru": "–†—É—Å—Å–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
      "description_ru": "–†—É—Å—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
      "content_text_ru": "–†—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç",
      "photo_url": "https://...",
      "category": "education",
      "date": "2025-01-15T10:30:00",
      "source_url": "https://stan.kz/article/...",
      "source_name": "Stan.kz",
      "language": "kz",
      "matched_keywords": ["–≥—Ä–∞–Ω—Ç", "—Å—Ç—É–¥–µ–Ω—Ç", "—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"],
      "status": "pending",
      "fetched_at": "2025-01-15T10:35:00"
    }
  ],
  "next_id": 2,
  "last_updated": "2025-01-15T10:35:00"
}
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ |
|-----------|----------------|
| education | —Å—Ç—É–¥–µ–Ω—Ç, –∫–æ–ª–ª–µ–¥–∂, —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, –≥—Ä–∞–Ω—Ç |
| employment | –∂“±–º—ã—Å, —Ä–∞–±–æ—Ç–∞, —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ |
| business | –±–∏–∑–Ω–µ—Å, –∫”ô—Å—ñ–ø–∫–µ—Ä, —Å—Ç–∞—Ä—Ç–∞–ø |
| finance | –∫—Ä–µ–¥–∏—Ç, –¥–µ–ø–æ–∑–∏—Ç, –∞“õ—à–∞ |
| sports | —Å–ø–æ—Ä—Ç, —Ñ—É—Ç–±–æ–ª, –≤–æ–ª–µ–π–±–æ–ª |
| culture | —Ç–µ–∞—Ç—Ä, –∫–∏–Ω–æ, –∫–æ–Ω—Ü–µ—Ä—Ç |
| tourism | —Ç—É—Ä–∏–∑–º, –¥–µ–º–∞–ª—ã—Å |
| social | –≤–æ–ª–æ–Ω—Ç–µ—Ä, –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω |
| it | IT, —Ö–∞–∫–∞—Ç–æ–Ω |
| health | –¥–µ–Ω—Å–∞—É–ª—ã“õ, –∑–¥–æ—Ä–æ–≤—å–µ |
| regional | “ö–∞—Ä–∞“ì–∞–Ω–¥—ã, –ö–∞—Ä–∞–≥–∞–Ω–¥ |

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.py` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- `SOURCES` - —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- `KEYWORDS_KZ` - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º
- `KEYWORDS_RU` - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- `CATEGORY_MAPPING` - –ø—Ä–∞–≤–∏–ª–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
- `FETCH_TIMEOUT` - —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–µ–∫)
- `MAX_ARTICLES_PER_SOURCE` - –ª–∏–º–∏—Ç —Å—Ç–∞—Ç–µ–π —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
news_aggregator/
‚îú‚îÄ‚îÄ aggregator.py      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ models.py          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ parsers.py         # –ü–∞—Ä—Å–µ—Ä—ã —Å–∞–π—Ç–æ–≤
‚îú‚îÄ‚îÄ scheduler.py       # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
‚îú‚îÄ‚îÄ requirements.txt   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ data/              # –î–∞–Ω–Ω—ã–µ
    ‚îú‚îÄ‚îÄ news.json      # –°–æ–±—Ä–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
    ‚îú‚îÄ‚îÄ seen_urls.json # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ URL
    ‚îî‚îÄ‚îÄ crm_export.json# –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è CRM
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM

–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å CRM:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `aggregator.get_approved_for_crm()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–µ–π
2. –ò–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ `python aggregator.py export-crm`
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ –≤–∞—à CRM API endpoint

–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

```python
import httpx
from aggregator import NewsAggregator

aggregator = NewsAggregator()
articles = aggregator.get_approved_for_crm()

async with httpx.AsyncClient() as client:
    for article in articles:
        response = await client.post(
            "https://your-crm.com/api/news",
            json=article,
            headers={"Authorization": "Bearer YOUR_TOKEN"}
        )
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

1. –î–æ–±–∞–≤—å—Ç–µ –≤ `SOURCES` –≤ `config.py`:
```python
{"name": "NewSource", "url": "https://newsource.kz/", "lang": "kz"},
```

2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–∑–¥–∞–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –≤ `parsers.py`:
```python
class NewSourceParser(BaseParser):
    async def get_article_links(self, client):
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
        pass
```

3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ `get_parser()` –≤ `parsers.py`

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
# NewsParser
